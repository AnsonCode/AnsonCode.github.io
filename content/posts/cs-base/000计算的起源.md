---
title: "001计算机起源？"
date: 2021-01-20T21:14:29+08:00
description: "大端对齐和小端对齐是啥玩意"
tags: [ "内存" ]
categories:
  - "计算机基础"
draft: false
math: true
plantuml: true
---

## 前言



# 通讯
通讯-》

莫斯密码

布莱叶盲文

由手电筒到电路

电报与继电器

十进制到二进制（算盘）

逻辑与开关

逻辑门

# 二进制运算器

## 加法器
![二进制加法表](https://res.weread.qq.com/wrepub/epub_33381009_243)

![二进制加法表_拆分](https://res.weread.qq.com/wrepub/epub_33381009_260)

![二进制加法_案例](https://res.weread.qq.com/wrepub/epub_33381009_246)

![异或门和与门](https://res.weread.qq.com/wrepub/epub_33381009_261)

![异或门符号](https://res.weread.qq.com/wrepub/epub_33381009_258)

![半加器组成](https://res.weread.qq.com/wrepub/epub_33381009_262)

![半加器简化](https://res.weread.qq.com/wrepub/epub_33381009_263)


两个半加法器的进位输出是不会同时为1的。或门在这里已经足够，因为或门除了在输入都为1的时候以外，其他情况下结果和异或门结果相同。
![全加器组成](https://res.weread.qq.com/wrepub/epub_33381009_265)

![全加器简化](https://res.weread.qq.com/wrepub/epub_33381009_266)

![全加器枚举值](https://res.weread.qq.com/wrepub/epub_33381009_267)


![8位相加](https://res.weread.qq.com/wrepub/epub_33381009_272)

![8位相加简化](https://res.weread.qq.com/wrepub/epub_33381009_273)

![8位相加再简化](https://res.weread.qq.com/wrepub/epub_33381009_276)

![16位相加](https://res.weread.qq.com/wrepub/epub_33381009_277)

继电器-》真空管-》晶体管

以上就是“脉冲进位”，加法器的总体速度等于数字的位数乘以全加器器件的速度。更快的叫做：前置进位

## 减法器

### 避免借位
253- 176

253- 176 + 1000 - 1000

253- 176 + 999 + 1 - 1000

253 + (999 - 176) + 1 - 1000

### 避免
176- 253

999- 253=746

176+ 746=922

922- 999？-》-（999-922）

```
$$
\begin{array}{c:c:c}
a & b & c \\\\
a & b & c
\end{array}
$$
```

$$
\begin{array}{c:c}
   & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 1
\\\\ \hline
.- & 1 & 0 & 1 & 1 & 0 & 0 & 0 & 0
\\\\ \hline
   & ? & ? & ? & ? & ? & ? & ? & ?
\end{array}
\tag{1.1}
$$

---------
第一步，用11111111（即255）减去减数：

$$
\begin{array}{c:c}
   & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1
\\\\
.- & 1 & 0 & 1 & 1 & 0 & 0 & 0 & 0
 \\\\ \hline
   & 0 & 1 & 0 & 0 & 1 & 1 & 1 & 1
\end{array}
\tag{1.1}
$$

因此对1求补数有时也会称为相反数（negation）或反码（inverse）。



第二步，将减数对1的补数与被减数相加：

$$
\begin{array}{c:c}
   & 1 & 1 & 1 & 1 & 1 & 1 & 0 & 1
\\\\ \hline
.+ & 0 & 1 & 0 & 0 & 1 & 1 & 1 & 1
 \\\\ \hline
1  & 0 & 1 & 0 & 0 & 1 & 1 & 0 & 0
\end{array}
\tag{1.1}
$$

第三步，将上式所得结果加1：

$$
\begin{array}{c:c}
& 1 & 0 & 1 & 0 & 0 & 1 & 1 & 0 & 0
\\\\ \hline
.+& 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1
 \\\\ \hline
& 1 & 0 & 1 & 0 & 0 & 1 & 1 & 0 & 1
\end{array}
\tag{1.1}
$$

第四步，减去100000000（即256）：

$$
\begin{array}{c:c}
 & 1 & 0 & 1 & 0 & 0 & 1 & 1 & 0 & 1
\\\\ \hline
.-&1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0
 \\\\ \hline
  & &  & 1 & 0 & 0 & 1 & 1 & 0 & 1
\end{array}
\tag{1.1}
$$

结果就等于十进制数的77。


![XOR](https://res.weread.qq.com/wrepub/epub_33381009_306)

![XOR](https://res.weread.qq.com/wrepub/epub_33381009_309)

最高有效位（最左位）作为符号位（sign bit）。符号位中，1表示负数，0表示正数。

现在，二进制数可以有两种不同的使用方法。二进制数可以是有符号的，也可以是无符号的。无符号的8位二进制数所表示的范围是0～255。有符号的8位二进制表示的范围是-128～127。无论是有符号的还是无符号的，数字本身是无法显示的。例如，如果有一个人问：“有一个8位二进制数，值为10110110。它相当于十进制的多少？”你必须先问：“它是有符号数还是无符号数？它可能为-74或者182。”

# 反馈与触发器

振荡器：https://res.weread.qq.com/wrepub/epub_33381009_313

振荡器简化：https://res.weread.qq.com/wrepub/epub_33381009_318

振荡器简化2：https://res.weread.qq.com/wrepub/epub_33381009_319

振荡器随时间的输出及循环：https://res.weread.qq.com/wrepub/epub_33381009_322

这幅图表示随着时间的推移，振荡器的输出在0和1之间按照固有的规律交替变化。正因为这一点，振荡器又经常被称为时钟（clock），通过振荡进行计数也是一种计时方式

一个循环所占用的时间就是该振荡器的周期（period），周期的倒数是频率。

或非门：

NOR |0   |1
:--:|:--:|:--:
0   |1   |0
1   |0   |0

## 电路中的跷跷板——触发器（计数）

触发器1：https://res.weread.qq.com/wrepub/epub_33381009_325

触发器2：https://res.weread.qq.com/wrepub/epub_33381009_326

触发器3：https://res.weread.qq.com/wrepub/epub_33381009_327

触发器4：https://res.weread.qq.com/wrepub/epub_33381009_328

触发器5：https://res.weread.qq.com/wrepub/epub_33381009_329

触发器6：

- 接通上面的开关，灯泡被点亮，断开此开关灯泡仍然亮着。

- 接通下面的开关，灯泡被熄灭，断开此开关灯泡仍然不亮。

触发器电路可以保持信息，它可以“记住”某些信息。特别地，对于本章先前所讲述的触发器，它可以记住最近一次是哪个开关先闭合。

触发器和跷跷板有着很强的相似性。跷跷板也有两个稳定状态，它不会长期停留在不稳定的中间位置。通过观察跷跷板，我们很容易推测出哪边最后一次被压下来。



# RAM(64KB*8)


# 
我们人类的创造能力与勤奋精神常常令我感叹不已，但人类的本性却是相当懒惰的。举个简单而又常见的例子，我们总是不情愿工作。我们对工作的反感是如此的强烈——当然人类也很聪明——以至于情愿花费大量的时间去设计并制造一些设备，哪怕这些设备只能将工作时间缩减几分钟。悠闲地躺在吊床上，看着自己刚发明的新奇工具自动修剪草坪，没有什么事情能比这更让我们快乐的神经为之一动了。



# NPN二极管（代替继电器）

二极管的逻辑电路：https://res.weread.qq.com/wrepub/epub_33381009_523


# 存储器
RAM 随机访问访问存储器，RAM就像一本书，我们可以翻到它的任意一页

堆栈，后进先出存储器（last-in-first-out，LIFO）

堆栈的功能是怎样实现的呢？首先，堆栈其实就是一段普通的RAM存储空间，只是这段空间相对独立不另作他用。8080微处理器设置了一个专门的16位寄存器对这段存储空间寻址，这个特殊的寄存器称为堆栈指针（SP，Stack Pointer）。

Call指令

跳转指令和Return指令？

PC寄存器

# 编码的历史

ascii-》unicode->

# 总线

●数据输出信号：微处理器产生

●数据输入信号：RAM传给处理器

●控制信号：

## 输入设备
我们称键盘硬件提供的代码为扫描码（scan code）。当按下键盘上的某个按键时，一小段计算机程序就会计算出这个按键对应的ASCII码（如果有的话）。

电路图：https://res.weread.qq.com/wrepub/epub_33381009_646

0110：https://res.weread.qq.com/wrepub/epub_33381009_646
## 输出设备

### 显示器
它是只读存储器（read-only memory），即ROM。它是一种集成电路，在生产时里面已经填入了数据，固定的地址输出的数据是不变的

用10个地址信号和8个输出信号。其中7个地址信号是用来确定ASCII码字符的（这7个地址位来自视频板上RAM的数据输出）。其他三个地址信号则用来表示行。举个例子来说，最高行用000表示，最低行用111表示。8个输出位就是每行的8个像素。

# 永久存储设备
以几何学角度来看，磁盘是能够实现快速访问的介质。磁盘围绕其中心旋转，连到臂上的一个或多个磁头从磁盘外沿向中间移动，通过磁头可以快速访问磁盘上的任何区域。

磁盘的表面被划分成许多同心圆，称为磁道（tracks），每个磁道又被划分成像圆饼切片形状的扇区（sectors），每个扇区可以存放一定数量的字节，通常为512字节。

memory（内存）仅仅表示半导体随机访问存储器；storage（存储器）用来指任何的存储设备，通常包括软盘、硬盘和磁带。

存储的信息是否易失，是随机访问存储器与磁介质存储器的主要区别。

随机访问存储器就像办公桌的桌面，上面的任何东西都可以拿来直接使用；而磁介质存储器就像一个文件柜，里面的东西不能直接使用，如果想要使用放在文件柜里的某件东西，你需要站起来，走到文件柜前，查找需要的文件，然后带回桌面。如果桌面太拥挤，没有空间放置需要的文件，还需要把桌面上暂时不用的东西先放回到文件柜中。

## 文件存储系统

### 目录区

目录结构体：https://res.weread.qq.com/wrepub/epub_33381009_658

# 操作系统的引导

控制台命令处理程序（Console Command Processor，CCP）、基本磁盘操作系统（Basic Disk Operating System，BDOS）和基本输入/输出系统（BasicInput/Output System，BIOS）是CP/M的三个组成部分

https://res.weread.qq.com/wrepub/epub_33381009_665

### 控制台程序

- 内部命令：文件操作
- 外部命令：执行命令


CP/M-》

（Basic Disk OperatingSystem，BDOS）-》
（Basic Input And Output System，BIOS）


QDOS-》86-DOS-》MS-DOS

MS-DOS有两种运行程序：一是以COM为扩展名的文件，其大小不能超过64 KB，二是更大一些的程序，以EXE（意思是可以被执行）为文件的扩展名，表明文件本身是可执行的。


硬盘容量越大存储的文件也就越多，存储的文件越多，当然，查找某个指定的文件或组织文件也就越困难。

MS-DOS 2.0引入了层次文件系统（hierarchical filesystem）


UNIX

在这种思想的指导下，人们都使用文本文件作为公用文件形式。许多UNIX实用程序读取文本文件，利用它提供的一些功能做些处理，然后将其写入另一个文本文件。因此可以用链的形式来组织UNIX实用程序，然后对这些文本文件做相应的处理。

在20世纪60-70年代，计算机不仅体积庞大而且价格昂贵，仅仅为一个人服务显然不太现实，为了能够让多个人同时使用计算机，必须有相应操作系统来支持，这也就是开发UNIX系统的最初目的。

v操作系统引入了虚拟内存（virtual memory）技术。虚拟内存是指，在磁盘上划出部分空间用做保存临时文件，程序把暂时不需要用的内存块放到临时文件里，待需要时再把它调入内存。。



Linux系统

# 定点数和浮点数

正整数

整数-》补位

实数：有理数和无理数

种基于二进制的存储和标记方式也被称作定点格式

科学计数法

浮点格式是基于科学计数法的，所以它是存储极大或极小数的理想方式

在规范化二进制浮点数中，小数点的左边通常只有一个1，除此之外没有其他数字。

二进制科学计数法：https://res.weread.qq.com/wrepub/epub_33381009_702

IEEE浮点数标准定义了两种基本的格式：以4个字节表示的单精度格式和以8个字节表示的双精度格式。

4字节约定：https://res.weread.qq.com/wrepub/epub_33381009_703

https://res.weread.qq.com/wrepub/epub_33381009_704

8位指数部分的取值范围是0～255，称为偏移（biased）指数，它的意思是：对于有符号指数，为了确定其实际所代表的值必须从指数中减去一个值——称做偏移量（bias）。对于单精度浮点数，其偏移量为127。？？

-1的s次幂是数学上所采用的一种巧妙的方法，它的含义是：如果s = 0，则该数是正的（因为任何数的0次幂都是1）；如果s= 1，则该数是负的（因为-1的1次幂等于-1）。

表达式的中间部分是[1.f]，其含义是：1的后面是小数点，小数点后面跟着23位的有效数。[1.f]与2的幂相乘，其中指数等于内存中的8位的偏移指数减去127。

●如果e= 0且f= 0，则该数为0。在这种情况下，通常把32位都设置为0以表示该数为0。但是符号位可以设置为1，这种数可以解释为负0。负0可以用来表示非常小的数，这些数极小以至于不能在单精度格式下用数字和指数来表示，但它们仍然小于0。

●如果e= 0且f≠ 0，则该数是合法的，但不是规范化的。这类数可以表示为：
https://res.weread.qq.com/wrepub/epub_33381009_707

●如果e= 255且f= 0，则该数被解释为无穷大或无穷小，这取决于符号位s的值。

●如果e= 255且f ≠ 0，则该值被解释为“不是一个数”，通常被缩写为NaN（not a number）。NaN用来表示未知的数或非法操作的结果。

最大值：https://res.weread.qq.com/wrepub/epub_33381009_709

最小值：https://res.weread.qq.com/wrepub/epub_33381009_708

单精度存储时可能会有问题？两个不同的数存储为同一个结果的情况

双精度浮点数：
https://res.weread.qq.com/wrepub/epub_33381009_719

https://res.weread.qq.com/wrepub/epub_33381009_720

浮点数四则运算？

浮点数运算硬件对于困惑的汇编程序员来说无疑是个惊喜的礼物


# 高级语言和低级语言

第一个编写汇编器的人需要手工对程序汇编。如果要为机器写一个新的汇编器（或者对其修改），则可以使用汇编语言编写该程序，然后使用原有的汇编器对其汇编。一旦新的汇编器通过了汇编，则它也就可以对自身进行汇编。

每当一种新的微处理器面世，就需要为其编写新的汇编器。然而，新的汇编器可以在已有的计算机上编写，并利用其汇编器进行汇编。这种方式称为交叉汇编（cross-assembler），即利用计算机A的汇编器对运行在计算机B上的程序汇编。

机器码-》

汇编语言：
缺陷
- 语言粒度太细，很难编写
- 不可移植，不同系统要重写

高级语言
- 语法
- 编译器

优缺点
- 编写方便
- 效率降低

A-0->FORTRAN->ALGOL->COBOL->PL/Ⅰ->BASIC->Pascal->Turbo Pascal(编译器+编辑器+调试器)->Ada->BCPL->C(高级汇编语言)->

- C支持位运算
- C支持指针

LISP和APL